<!DOCTYPE html>
<html ng-app="blueitApp">
  <head>
    <meta charset="utf-8">
    <title>Blueit</title>
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="css/style.css">
  </head>
  <body ng-controller="TopicCtrl as topics">
    <!-- Nav Bar -->
    <div class="navbar-fixed">
      <nav class="blue darken-3 z-depth-1">
        <div class="nav-wrapper">
          <a ng-href="#/" class="brand-logo left">Blueit</a>
          <ul ng-controller="AuthCtrl as authCtrl" class="right">
            <li ng-show="authCtrl.isLoggedIn()"><a href="#topicTrigger" class="modal-trigger">Create Topic</a></li>
            <li ng-show="authCtrl.isLoggedIn()"><a ng-href="#/" ng-click="authCtrl.logout()">Logout</a></li>
            <li ng-show="!authCtrl.isLoggedIn()"><a ng-href="#/login">Login</a></li>
          </ul>
        </div>
      </nav>
    </div>
    <main ng-view class="container light-blue lighten-5">
    </main>

    <!-- Topic Modal Structure -->
    <div id="topicTrigger" class="modal">
      <form ng-submit="topics.submitTopic(); topicForm.$setPristine();" name="topicForm" novalidate>
        <div class="modal-content">
          <div class="input-field">
            <input type="text" name="name" ng-class="{'valid': topicForm.name.$valid, 'invalid': topicForm.name.$invalid && topicForm.name.$dirty}" ng-model="topics.topicForm.name" ng-minlength=3 ng-maxlength=15 required>

            <label for="name" ng-class="{'green-text text-lighten-2': topicForm.name.$valid, 'red-text text-lighten-2': topicForm.name.$invalid && topicForm.name.$dirty}">Topic Name</label>

            <span ng-show="topicForm.name.$error.minlength && topicForm.name.$dirty">Topic must be at least 3 characters</span>
            <span ng-show="topicForm.name.$error.maxlength &&   topicForm.name.$dirty">Topic must be less than 15 characters</span>
          </div>
        </div>
        <div class="modal-footer">
          <input type="submit" class="btn orange darken-1 right" ng-class="{'disabled': topicForm.$invalid, 'waves-effect waves-light': topicForm.$valid}" value="Add Topic" ng-disabled="topicForm.$invalid">
        </div>
      </form>
    </div>

    <script src="js/jquery-2.1.4.min.js"></script>
    <script src="js/materialize.min.js"></script>
    <script src="js/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-route.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-cookies.js"></script>
    <script src="js/app.js"></script>
    <script src="js/app.config.js"></script>
    <script src="js/services.js"></script>
    <script src="js/controllers.js"></script>
    <!-- <script src="js/materialize.min.js"></script> -->
    <!-- <script src="js/controllers.js"></script> -->
  </body>
</html>
